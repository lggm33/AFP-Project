# üöÄ PLAN DE TRABAJO - AFP (Aplicaci√≥n de Finanzas Personales)


## üìã **REQUERIMIENTOS DEL NEGOCIO**

### **üéØ Propuesta de Valor**
- **Aplicaci√≥n SaaS** que lee emails bancarios autom√°ticamente
- **Extrae transacciones financieras** usando inteligencia artificial
- **Procesa m√∫ltiples bancos** de forma din√°mica
- **Genera insights financieros** autom√°ticos

### **üî• Diferenciadores Clave**
1. **Procesamiento inteligente de emails bancarios** (nuestro core diferenciador)
2. **Soporte multi-banco din√°mico** (agregar bancos via configuraci√≥n)
3. **AI para generar patterns** autom√°ticamente
4. **Sistema robusto de workers** para procesamiento background

### **üë• Usuarios Objetivo**
- **Inicial**: 100 usuarios para validar mercado
- **Escalabilidad**: Capacidad de crecer a 1000+ usuarios
- **Target**: Profesionales que manejan m√∫ltiples cuentas bancarias

### **üí∞ Modelo de Negocio**
- **SaaS con subscripciones** (Free/Pro/Enterprise)
- **Free**: L√≠mite de transacciones por mes
- **Pro**: Transacciones ilimitadas + analytics avanzados
- **Enterprise**: Multi-usuario + API access

### **üìä Features Core**
1. **Gesti√≥n de Usuarios**: Auth, profiles, settings
2. **Procesamiento de Emails**: Gmail integration + AI parsing
3. **Gesti√≥n de Bancos**: Configuraci√≥n din√°mica de bancos
4. **Transacciones**: Extracci√≥n autom√°tica + categorizaci√≥n
5. **Analytics**: Dashboard financiero + insights
6. **Subscripciones**: Planes de pago + billing
7. **Admin**: Panel de administraci√≥n

---

## üèóÔ∏è **ARQUITECTURA DEL PROYECTO**

### **üìê Patr√≥n Arquitectural: Django API + Vite React PWA Multi-Provider**

```
üåê Vite React PWA Frontend (installable, multi-provider auth)
    ‚ÜïÔ∏è REST API (django-allauth social tokens)
üêç Django Backend + Multi-Provider OAuth (Google, Outlook, Yahoo+)
    ‚ÜïÔ∏è Background Workers + Queue System  
‚öôÔ∏è Multi-Email Processing Engine (Gmail API, Graph API, Yahoo API)
    ‚ÜïÔ∏è Database + Social Tokens Management
üìä PostgreSQL + Redis
```

### **üéØ Divisi√≥n de Responsabilidades**

#### **80% - Stack Est√°ndar (Django + Vite React)**
- ‚úÖ **Multi-Provider Authentication** (django-allauth: Google, Outlook, Yahoo+)
- ‚úÖ **User management** (Django auth + social accounts)
- ‚úÖ **Subscriptions** (django-subscriptions + Stripe)
- ‚úÖ **Admin dashboard** (Django admin)
- ‚úÖ **API REST** (Django REST Framework + social tokens)
- ‚úÖ **Frontend moderno** (Vite + React + TypeScript PWA)

#### **20% - Nuestro Diferenciador (Python Optimizado)**
- üî• **Multi-email processing** system (Gmail + Outlook + Yahoo)
- üî• **AI pattern generation** (OpenAI integration)
- üî• **Multi-bank strategies** para diferentes tipos de transacciones
- üî• **Background workers** robustos (Celery)
- üî• **Financial analytics** engine
- üî• **Social tokens management** for multi-provider email access

---

## üìÅ **ESTRUCTURA DEL PROYECTO**

```
afp-project/
‚îú‚îÄ‚îÄ backend/                    # üêç Django Backend
‚îÇ   ‚îú‚îÄ‚îÄ afp_project/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings/              # Django settings
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ urls.py                # URL routing
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ wsgi.py                # WSGI app
‚îÇ   ‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users/                 # ‚úÖ Django auth (GRATIS)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subscriptions/         # ‚úÖ django-subscriptions (GRATIS)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ banking/               # üîß NUESTRO: Banks, patterns
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ transactions/          # üîß NUESTRO: Transaction logic
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ analytics/             # üîß NUESTRO: Financial analytics
‚îÇ   ‚îú‚îÄ‚îÄ api/                      # ‚úÖ Django REST Framework
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/                  # Auth endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subscriptions/         # Billing endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ banking/               # Banking endpoints
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ transactions/          # Transaction endpoints
‚îÇ   ‚îú‚îÄ‚îÄ workers/                  # üîß NUESTRO: Celery workers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ email_processing/      # Email processing workers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ai_generation/         # AI pattern generation
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ analytics/             # Data processing workers
‚îÇ   ‚îú‚îÄ‚îÄ core/                     # üîß NUESTRO: Email Processing Engine
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ email_processor.py     # Main coordinator
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ transaction_detector.py # Detect transaction types
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pattern_matcher.py     # Regex matching engine
‚îÇ   ‚îú‚îÄ‚îÄ strategies/               # üîß NUESTRO: Processing strategies
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ purchase_strategy.py   # Purchase processing
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ transfer_strategy.py   # Transfer processing
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ atm_strategy.py        # ATM processing
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ payment_strategy.py    # Payment processing
‚îÇ   ‚îú‚îÄ‚îÄ ai/                       # üîß NUESTRO: AI services
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pattern_generator.py   # Generate regex patterns
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ email_classifier.py    # Classify emails
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îÇ
‚îú‚îÄ‚îÄ frontend/                   # üü® Vite React PWA Frontend
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/            # UI components (shadcn/ui)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/                 # App pages/routes + auth providers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lib/                   # API client, utils, multi-provider
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/                 # React hooks + auth hooks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ store/                 # Zustand stores + auth store
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types/                 # TypeScript types
‚îÇ   ‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ manifest.json          # PWA manifest
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sw.js                  # Service worker
‚îÇ   ‚îú‚îÄ‚îÄ vite.config.ts             # Vite + PWA config (NO Next.js)
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ
‚îú‚îÄ‚îÄ docs/                      # üìö Documentation
‚îú‚îÄ‚îÄ scripts/                   # üß™ Setup and testing scripts
‚îî‚îÄ‚îÄ README.md
```

---

## üîê **ESTRATEGIA MULTI-PROVIDER AUTHENTICATION**

### **üéØ Roadmap de Proveedores**
```
Phase 1: Google OAuth ‚Üí Gmail API (ACTUAL)
Phase 2: Microsoft OAuth ‚Üí Outlook Graph API  
Phase 3: Yahoo OAuth ‚Üí Yahoo Mail API
Phase 4: Future providers (iCloud, ProtonMail, etc.)
```

### **üèóÔ∏è Arquitectura Multi-Provider**
```mermaid
graph TD
    A[Usuario] --> B[P√°gina de Login]
    B --> C[Selecci√≥n de Proveedor]
    C --> D["üîµ Google OAuth"]
    C --> E["üî∑ Microsoft OAuth"] 
    C --> F["üü£ Yahoo OAuth"]
    
    D --> G[Gmail API Access]
    E --> H[Outlook Graph API Access]
    F --> I[Yahoo Mail API Access]
    
    G --> J[Django Backend]
    H --> J
    I --> J
    
    J --> K[Social Account Management]
    K --> L[Token Refresh & Management]
    L --> M[Multi-Email Processing Engine]
    M --> N[AFP Dashboard]
```

### **üõ†Ô∏è Implementaci√≥n django-allauth**
```python
# Multi-provider configuration
SOCIALACCOUNT_PROVIDERS = {
    'google': { 'SCOPE': ['profile', 'email', 'gmail.readonly'] },
    'microsoft': { 'SCOPE': ['user.read', 'mail.read'] },
    'yahoo': { 'SCOPE': ['openid', 'profile', 'email'] },
}

# User can connect multiple email providers
# Each provider gives access to different email APIs
# Unified processing engine handles all email sources
```

---

## üîÑ **FLUJO DE TRABAJO L√ìGICO**

### **1. Setup Inicial (Una vez)**
```mermaid
graph TD
    A[Usuario instala AFP] --> B[Django crea user + integration]
    B --> C[Setup bancos por defecto]
    C --> D[AI genera patterns iniciales]
    D --> E[Sistema listo para procesar]
```

### **2. Procesamiento de Emails (Autom√°tico)**
```mermaid
graph TD
    A[Celery Email Import Worker] --> B[Gmail API fetch emails]
    B --> C[Filter banking emails]
    C --> D[EmailQueue]
    D --> E[Email Processing Worker]
    E --> F[Identify bank]
    F --> G[Detect transaction type]
    G --> H[Select strategy]
    H --> I[Get patterns from DB]
    I --> J[Extract transaction data]
    J --> K[TransactionQueue]
    K --> L[Transaction Saving Worker]
    L --> M[Save to database]
```

### **3. Gesti√≥n Din√°mica de Bancos**
```mermaid
graph TD
    A[Admin adds new bank via API] --> B[Bank saved to database]
    B --> C[AI analyzes sample emails]
    C --> D[Generate patterns automatically]
    D --> E[Bank ready for processing]
```

### **4. Sistema de Strategies**
```mermaid
graph TD
    A[Email arrives] --> B[Transaction Type Detector]
    B --> C{Type detected?}
    C -->|Purchase| D[Purchase Strategy]
    C -->|Transfer| E[Transfer Strategy]
    C -->|ATM| F[ATM Strategy]
    C -->|Payment| G[Payment Strategy]
    D --> H[Extract merchant, amount, location]
    E --> I[Extract recipient, reference]
    F --> J[Extract ATM location, fees]
    G --> K[Extract service provider, amount]
```

---

## üõ†Ô∏è **STACK TECNOL√ìGICO**

### **üêç Backend Stack**
- **Framework**: Django 4.2+ (web framework robusto)
- **API**: Django REST Framework (API REST completo)
- **Database**: PostgreSQL (database principal)
- **Cache**: Redis (caching + message broker)
- **Workers**: Celery (background job processing)
- **AI**: OpenAI GPT-4 (pattern generation)
- **Email**: Gmail API (email fetching)
- **Auth**: Django auth + django-allauth (multi-provider authentication)
- **Social Integration**: Google OAuth, Microsoft Graph, Yahoo OAuth
- **Subscriptions**: django-subscriptions + Stripe (billing)

### **üü® Frontend Stack (Vite React PWA)**
- **Framework**: React 18 + Vite (fast development & build, NO Next.js)
- **Language**: TypeScript (type safety)
- **Authentication**: Multi-provider support (Google, Outlook, Yahoo+)
- **Routing**: React Router DOM (SPA routing)
- **UI**: shadcn/ui + Tailwind CSS (modern UI components)
- **State**: Zustand (lightweight state management)
- **API Client**: React Query (caching & synchronization)
- **Auth**: JWT tokens con Django REST Auth
- **PWA**: Service Worker, Web App Manifest, Push Notifications
- **Build**: Vite (fast HMR) con PWA plugin

### **üìä Database Implementation**

#### **Technology Stack:**
- **Database**: PostgreSQL 15+ en Railway
- **ORM**: Django ORM con migrations
- **Multi-tenancy**: Tenant-per-row (user filtering)
- **Hosting**: Railway PostgreSQL (MVP) ‚Üí AWS RDS (scaling)

#### **Core Models Schema:**
```python
# ======= USER & AUTH =======
class User(AbstractUser):  # Django built-in
    pass

class UserProfile(models.Model):
    user = OneToOneField(User)
    timezone = CharField(max_length=50)
    currency = CharField(max_length=3, default='USD')
    created_at = DateTimeField(auto_now_add=True)

class Subscription(models.Model):
    user = ForeignKey(User)
    plan = CharField(choices=['free', 'pro', 'enterprise'])
    stripe_subscription_id = CharField()
    active = BooleanField(default=True)
    expires_at = DateTimeField()

# ======= BANKING CORE =======
class Bank(models.Model):
    user = ForeignKey(User)  # Multi-tenant: each user has their banks
    name = CharField(max_length=100)
    country = CharField(max_length=2)
    domains = JSONField()  # ["bac.cr", "baccr.com"]
    sender_emails = JSONField()  # ["alerts@bac.cr"]
    is_active = BooleanField(default=True)
    created_at = DateTimeField(auto_now_add=True)

class EmailPattern(models.Model):
    bank = ForeignKey(Bank)
    transaction_type = CharField(max_length=50)  # 'purchase', 'transfer', etc
    
    # Regex patterns (AI generated)
    amount_regex = TextField()
    merchant_regex = TextField()
    date_regex = TextField()
    reference_regex = TextField()
    
    # Pattern metadata
    confidence_threshold = FloatField(default=0.7)
    success_count = IntegerField(default=0)
    failure_count = IntegerField(default=0)
    is_active = BooleanField(default=True)
    
    # AI metadata
    generated_by_ai = BooleanField(default=True)
    ai_model = CharField(max_length=50)
    created_at = DateTimeField(auto_now_add=True)

# ======= TRANSACTIONS =======
class Transaction(models.Model):
    user = ForeignKey(User)  # Multi-tenant
    bank = ForeignKey(Bank)
    
    # Core transaction data
    amount = DecimalField(max_digits=12, decimal_places=2)
    description = TextField()
    transaction_date = DateTimeField()
    transaction_type = CharField(choices=[
        ('purchase', 'Purchase'),
        ('transfer', 'Transfer'), 
        ('atm', 'ATM'),
        ('payment', 'Payment'),
        ('deposit', 'Deposit')
    ])
    
    # Extracted metadata
    merchant = CharField(max_length=255, blank=True)
    location = CharField(max_length=255, blank=True)
    reference = CharField(max_length=100, blank=True)
    
    # Processing metadata
    confidence_score = FloatField()
    email_pattern_used = ForeignKey(EmailPattern, null=True)
    raw_email_body = TextField()  # For debugging
    
    # User categorization
    category = ForeignKey('Category', null=True)  # User can override
    
    created_at = DateTimeField(auto_now_add=True)

# ======= QUEUES (for Celery) =======
class EmailQueue(models.Model):
    user = ForeignKey(User)
    bank = ForeignKey(Bank)
    
    # Email data
    gmail_message_id = CharField(max_length=255, unique=True)
    sender = CharField(max_length=255)
    subject = TextField()
    body = TextField()
    received_at = DateTimeField()
    
    # Queue status
    status = CharField(choices=[
        ('pending', 'Pending'),
        ('processing', 'Processing'),
        ('completed', 'Completed'),
        ('failed', 'Failed')
    ], default='pending')
    
    # Processing metadata
    worker_id = CharField(max_length=100, blank=True)
    attempts = IntegerField(default=0)
    error_message = TextField(blank=True)
    
    created_at = DateTimeField(auto_now_add=True)
    processed_at = DateTimeField(null=True)
```

#### **Multi-Tenancy Strategy:**
- **Approach**: Tenant-per-row (shared database)
- **Security**: Automatic user filtering en todos los queries
- **Benefits**: Simple, cost-effective, Django native

### **‚öôÔ∏è Infrastructure Stack**
- **Deployment**: Railway (unified full-stack deployment)
- **Database**: Railway PostgreSQL
- **Cache**: Railway Redis
- **Workers**: Railway containers with Celery
- **Frontend**: Railway static hosting (Vite build)
- **PWA Features**: Service worker, push notifications, offline support
- **Monitoring**: Built-in Railway monitoring
- **Scaling**: Horizontal scaling via Railway

---

## üìÖ **PLAN DE ACCI√ìN - ETAPAS**

### **üöÄ FASE 1: SETUP DJANGO + PWA REACT (Semanas 1-2)**

#### **Objetivos:**
- ‚úÖ Django backend funcional con auth y subscriptions
- ‚úÖ PWA React frontend con login/registro
- ‚úÖ API REST completo conectado
- ‚úÖ Deployment unified en Railway

#### **Tareas Backend:**
```bash
# Week 1
- Setup Django project con django-subscriptions
- Configure PostgreSQL database
- Setup Django admin con User management
- Create basic API endpoints (auth, users)
- Configure Stripe para subscriptions

# Week 2  
- Setup Django REST Framework
- Create API documentation
- Configure CORS para Next.js
- Setup Railway deployment
- Test subscription flow
```

#### **Tareas Frontend:**
```bash
# Week 1
- Create React + Vite project con TypeScript
- Setup PWA configuration (manifest, service worker)
- Setup shadcn/ui component library
- Implement login/register pages
- Create responsive dashboard layout

# Week 2
- Connect con Django API usando React Query
- Implement subscription flow
- Setup Zustand state management
- Configure PWA features (notifications, offline)
- Deploy en Railway (static build)
```

#### **Entregables:**
- üéØ SaaS b√°sico funcionando con usuarios y subscripciones
- üéØ Admin puede gestionar usuarios desde Django admin
- üéØ Usuarios pueden registrarse y subscribirse a planes
- üéØ App deployada y accesible online

---

### **‚öôÔ∏è FASE 2: MIGRAR EMAIL PROCESSING A CELERY (Semanas 3-4)**

#### **Objetivos:**
- ‚úÖ Convertir workers actuales a Celery tasks
- ‚úÖ Queue system robusto con Redis
- ‚úÖ Email processing funcionando en production
- ‚úÖ AI pattern generation como background service

#### **Tareas:**
```bash
# Week 3
- Install y configure Celery + Redis
- Convert EmailImportWorker to Celery task
- Convert EmailProcessingWorker to Celery task  
- Convert TransactionCreationWorker to Celery task

# Week 4
- Setup AIPatternGenerationWorker con Celery
- Configure Celery beat para scheduled tasks
- Add monitoring y error handling
- Test complete email‚Üítransaction pipeline
```

#### **Entregables:**
- üéØ Email processing completamente migrado a Celery
- üéØ Background workers funcionando en Railway
- üéØ Sistema robusto de queues con retry logic
- üéØ AI pattern generation funcionando autom√°ticamente

---

### **üè¶ FASE 3: SISTEMA DE BANCOS DIN√ÅMICO (Semanas 5-6)**

#### **Objetivos:**
- ‚úÖ Admin puede agregar bancos via Django admin
- ‚úÖ AI genera patterns autom√°ticamente para bancos nuevos
- ‚úÖ Sistema de strategies funcionando para m√∫ltiples tipos
- ‚úÖ Frontend muestra transacciones procesadas

#### **Tareas:**
```bash
# Week 5
- Create Bank model con configuraci√≥n din√°mica
- Implement EmailPattern model para AI patterns
- Setup bank management en Django admin
- Create AI pattern generation service

# Week 6  
- Implement transaction type detection
- Create processing strategies (Purchase, Transfer, ATM, Payment)
- Connect frontend para mostrar transacciones
- Test con m√∫ltiples bancos reales
```

#### **Entregables:**
- üéØ Bancos configurables din√°micamente
- üéØ AI generando patterns autom√°ticamente
- üéØ Transacciones proces√°ndose y mostr√°ndose en frontend
- üéØ Soporte para m√∫ltiples tipos de transacciones

---

### **üìä FASE 4: ANALYTICS Y OPTIMIZACI√ìN (Semanas 7-8)**

#### **Objetivos:**
- ‚úÖ Dashboard financiero en frontend
- ‚úÖ Categorizaci√≥n autom√°tica de transacciones
- ‚úÖ Analytics b√°sicos y insights
- ‚úÖ Performance optimization y monitoring

#### **Tareas:**
```bash
# Week 7
- Create analytics dashboard en Next.js
- Implement transaction categorization
- Add charts y visualizations
- Create financial insights

# Week 8
- Performance optimization (queries, caching)
- Add monitoring y alerting
- Security hardening
- User experience improvements
```

#### **Entregables:**
- üéØ Dashboard financiero completo
- üéØ Transacciones categorizadas autom√°ticamente
- üéØ Insights y analytics funcionando
- üéØ Sistema optimizado para 100+ usuarios

---

### **üöÄ FASE 5: POLISH Y LAUNCH (Semana 9)**

#### **Objetivos:**
- ‚úÖ Testing completo del sistema
- ‚úÖ Documentation para usuarios
- ‚úÖ Marketing site y onboarding
- ‚úÖ Launch con primeros usuarios

#### **Tareas:**
```bash
- Complete integration testing
- Create user documentation
- Setup marketing/landing page
- Implement user onboarding flow
- Beta testing con usuarios reales
- Launch p√∫blico
```

#### **Entregables:**
- üéØ Producto completo listo para usuarios
- üéØ Documentation y onboarding
- üéØ Primeros usuarios reales usando la app
- üéØ Feedback loop establecido para mejoras

---

## üìà **M√âTRICAS DE √âXITO**

### **Fase 1:**
- ‚úÖ 1 usuario admin puede gestionar sistema
- ‚úÖ App deployada y funcionando 24/7
- ‚úÖ Subscription flow completo

### **Fase 2:**
- ‚úÖ Email processing autom√°tico funcionando
- ‚úÖ 0 emails perdidos en queues
- ‚úÖ Workers robustos con retry logic

### **Fase 3:**
- ‚úÖ Al menos 3 bancos configurados y funcionando
- ‚úÖ 80%+ accuracy en extracci√≥n de transacciones
- ‚úÖ AI generando patterns correctos

### **Fase 4:**
- ‚úÖ Dashboard financiero usable
- ‚úÖ Transacciones categorizadas autom√°ticamente
- ‚úÖ Sistema soporta 100+ transacciones/d√≠a

### **Fase 5:**
- ‚úÖ 10+ usuarios beta activos
- ‚úÖ Feedback positivo de usuarios
- ‚úÖ Sistema estable bajo carga real

---

## üöÄ **SETUP DESDE CERO - IMPLEMENTACI√ìN**

### **üìã DECISI√ìN: FRESH START**
- **Raz√≥n**: Cambio completo de arquitectura (Flask‚ÜíDjango, Workers‚ÜíCelery)
- **Ventaja**: Arquitectura correcta desde d√≠a 1, c√≥digo limpio
- **Conservamos**: Conocimiento del dominio, l√≥gica de negocio, AI prompts
- **Tiempo**: 3-4 semanas vs migraci√≥n compleja

### **üìÖ SETUP WEEK BY WEEK**

#### **üèóÔ∏è WEEK 1: PROJECT FOUNDATION**

**D√≠a 1-2: Backend Setup**
```bash
# 1. Create project structure
mkdir afp-project && cd afp-project
mkdir backend frontend docs

# 2. Setup Django backend
cd backend
python -m venv venv
source venv/bin/activate
pip install django djangorestframework celery redis django-subscriptions
pip install psycopg2-binary python-decouple django-cors-headers
pip install openai requests google-auth google-auth-oauthlib
pip freeze > requirements.txt

# 3. Create Django project
django-admin startproject afp_backend .
python manage.py startapp users
python manage.py startapp banking
python manage.py startapp transactions
python manage.py startapp analytics

# 4. Configure Railway PostgreSQL
# - Create Railway account
# - New project + PostgreSQL service
# - Get connection credentials
```

**D√≠a 3-4: Database & Models**
```bash
# 1. Configure Django settings
# - Database connection
# - CORS headers
# - DRF configuration
# - Celery configuration

# 2. Create core models
# - User, UserProfile, Subscription
# - Bank, EmailPattern
# - Transaction, EmailQueue

# 3. First migration
python manage.py makemigrations
python manage.py migrate
python manage.py createsuperuser

# 4. Django admin setup
# - Register models
# - Customize admin interface
```

**D√≠a 5-7: Frontend Setup**
```bash
# 1. Create Next.js project
cd ../frontend
npx create-next-app@latest afp-web --typescript --tailwind --app

# 2. Setup UI framework
cd afp-web
npm install @radix-ui/react-* lucide-react
npx shadcn-ui@latest init
npx shadcn-ui@latest add button card input form table

# 3. Project structure
mkdir -p app/(auth) app/(dashboard) lib components types

# 4. Basic authentication pages
# - Login/register forms
# - Dashboard layout
# - API client setup
```

#### **‚öôÔ∏è WEEK 2: CORE FUNCTIONALITY**

**D√≠a 1-3: Celery + Email Processing**
```bash
# 1. Setup Celery
pip install celery[redis]
# - Configure Celery settings
# - Create celery.py config
# - Setup Redis on Railway

# 2. Create Celery tasks (rewrite from scratch but using domain knowledge)
# - email_import_task.py
# - email_processing_task.py  
# - transaction_creation_task.py
# - ai_pattern_generation_task.py

# 3. Gmail API integration
# - OAuth setup
# - Email fetching logic
# - Queue management
```

**D√≠a 4-7: API + Frontend Integration**
```bash
# 1. Django REST API
# - Auth endpoints
# - Banking endpoints
# - Transaction endpoints
# - Admin endpoints

# 2. Frontend API integration
# - TypeScript API client
# - Authentication flow
# - Basic dashboard
# - Transaction display

# 3. End-to-end testing
# - User registration
# - Email processing
# - Transaction extraction
```

#### **üéØ WEEK 3-4: POLISH & DEPLOY**

**Week 3: Feature Complete**
```bash
# 1. AI pattern generation
# 2. Multi-bank support
# 3. Subscription integration
# 4. Error handling & monitoring
```

**Week 4: Production Ready**
```bash
# 1. Railway deployment
# 2. Environment configuration
# 3. Performance optimization
# 4. Security hardening
# 5. User testing
```

---

## üéØ **PR√ìXIMOS PASOS INMEDIATOS**

### **üöÄ ESTA SEMANA (EMPEZAR HOY):**
1. **Setup Django project** estructura completa
2. **Configure Railway** PostgreSQL database
3. **Create core models** y primera migration
4. **Setup Django admin** para gesti√≥n

### **üìÖ PR√ìXIMA SEMANA:**
1. **Setup Celery + Redis** para background tasks
2. **Create email processing** Celery tasks
3. **Setup Next.js frontend** b√°sico
4. **Connect API** Django ‚Üî Next.js

### **üéØ ENTREGABLE WEEK 1:**
- ‚úÖ Django backend funcionando
- ‚úÖ PostgreSQL configurado con models
- ‚úÖ Django admin operativo
- ‚úÖ Basic API endpoints
- ‚úÖ Next.js frontend b√°sico

---

## üìû **CONTACTO Y RECURSOS**

- **Proyecto GitHub**: [Repository URL]
- **Railway Deployment**: [Railway URL]
- **Documentation**: [Docs URL]
- **API Documentation**: [API Docs URL]

---

**üöÄ ¬°Empezamos con la Fase 1 inmediatamente!** 